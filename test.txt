javascript:var botPanel=window.open('','',"left=10, top=10, width=340, height=370, location=no, resizable=no");if(botPanel.closed){alert("Okno se neotev≈ôelo")}else{var script=botPanel.document.createElement("script");script.innerText='

var tasks=[];var currentTaskId=0;var audio;window.onload=function(){gcFillJobDropdown();randomClick()};function addTaskButton(){var c=document.getElementById("job").selectedOptions[0].text;var a=document.getElementById("job").value;var b=parseInt(document.getElementById("motivation").value);if(typeof b!="number"||b<-1||b>100){b=50}addTask(c,a,b,false)}function addTask(g,f,i,b){currentTaskId++;var h=document.createElement("tr");tasks.push({jobId:f,motivation:i,taskId:currentTaskId,row:h,isAutoTask:b});h.onmouseover=function(){this.style.background="rgb(255, 246, 228)"};h.onmouseout=function(){this.style.background="rgb(255, 255, 255)"};var e=document.createElement("td");e.innerText=g;e.style.paddingLeft="5px";var d=document.createElement("td");d.innerText=i;d.style.paddingLeft="5px";d.style.textAlign="center";d.style.borderLeft="1px solid black";var c=document.createElement("td");c.style.paddingLeft="5px";c.style.textAlign="center";var a=document.createElement("p");a.innerText="X";a.style.cursor="pointer";a.style.margin="0px";a.style.display="inline";a.style.color="red";a.style.fontWeight="bold";c.appendChild(a);h.appendChild(e);h.appendChild(d);h.appendChild(c);document.getElementById("tasksList").children[0].insertBefore(h,document.getElementById("elementsForAdding"));a.addEventListener("click",Function("delTask("+currentTaskId+"); tmReset();"))}function delTask(b){for(var a=0;a<tasks.length;a++){if(tasks[a].taskId==b){tasks[a].row.remove();tasks.splice(a,1);break}}}function delAutoTasks(){var b=[];for(var a=0;a<tasks.length;a++){if(tasks[a].isAutoTask){b.push(tasks[a].taskId)}}for(var a=0;a<b.length;a++){delTask(b[a])}}var gameDoc=window.opener.document;var gameWin=window.opener;function randomClick(){console.log("randomClick");setTimeout(randomClick,parseInt(Math.random()*170+10)*1000);gameDoc.getElementsByClassName("menulink lcharacter")[0].click()}function gcFillJobDropdown(a){gameWin.Ajax.remoteCallMode("work","index",{},function(c){gameWin.JobsModel.initJobs(c.jobs);gameWin.JobsModel.sortJobs(a,null,"dsc");for(var a=0;a<gameWin.JobsModel.Jobs.length;a++){var job=gameWin.JobsModel.Jobs[a];var myCondition=(job.jobpoints/job.workpoints)>=1;if(job.jobObj.level&&myCondition){var b=document.createElement("option");b.value=job.id;b.innerText=job.name;document.getElementById("job").appendChild(b)}}},null)}function gcStartJob(b,a){gameWin.Ajax.get("map","get_minimap",{},function(g){if(g.error){console.error("Dropping gcStartJob: "+g.msg);return}var d=g.job_groups[gameWin.JobList.getJobById(b).groupid];var c=d[0][0];var j=d[0][1];var e=gameWin.Map.calcWayTime(gameWin.Character.getPosition(),{x:c,y:j});for(var f=0;f<d.length;f++){if(gameWin.Map.calcWayTime(gameWin.Character.getPosition(),{x:d[f][0],y:d[f][1]})<e){c=d[f][0];j=d[f][1];e=gameWin.Map.calcWayTime(gameWin.Character.getPosition(),{x:c,y:j})}}var h=new gameWin.Array();h.push(new gameWin.TaskJob(b,c,j,a));gameWin.TaskQueue.add(h)},null)}function gcCancelAllJobs(){var b=gameDoc.getElementsByClassName("taskAbort");for(var a=0;a<b.length;a++){b[a].click()}}var currentTask=undefined;var timerChekingEmploy=undefined;function tmReset(){currentTask=undefined}function tmStartWork(){if(timerChekingEmploy===undefined){timerChekingEmploy=setInterval(function(){console.log("check");if(gameWin.TaskQueue.queue.length<1){if(currentTask){if(gameWin.Character.energy>=2){gameWin.Ajax.remoteCallMode("work","index",{},function(b){gameWin.JobsModel.initJobs(b.jobs);if(gameWin.JobsModel.getById(currentTask.jobId).jobmotivation*100>currentTask.motivation||currentTask.motivation==-1){console.log("Start job "+gameWin.JobsModel.getById(currentTask.jobId).name+" "+new Date().getHours()+":"+new Date().getMinutes());gcStartJob(currentTask.jobId,tmGetWorkTime())}else{delTask(currentTask.taskId);tmReset()}},null)}}else{if(tasks.length>0){currentTask=tasks[0]}else{if(document.getElementById("autoTask").checked){addAutoTasks(document.getElementById("direct").value)}else{clearInterval(timerChekingEmploy);timerChekingEmploy=undefined}}}}},3000)}}function addAutoTasks(a){gameWin.Ajax.remoteCallMode("work","index",{},function(c){gameWin.JobsModel.initJobs(c.jobs);gameWin.JobsModel.sortJobs(a,null,"desc");tasks=[];for(var b=0;b<gameWin.JobsModel.Jobs.length;b++){var job=gameWin.JobsModel.Jobs[b];var myCondition=(job.jobpoints/job.workpoints)>1.3;if(job.jobObj.level&&myCondition){var d=50;addTask(gameWin.JobsModel.Jobs[b].name,gameWin.JobsModel.Jobs[b].id,d,true);break}}},null)}function tmGetWorkTime(){if(gameWin.Character.energy>=2){return 15}return 0};

';botPanel.document.head.appendChild(script);botPanel.document.body.innerHTML='

<div style="width:325px;margin:0 auto;text-align:center;background-color:#fff6e4;padding-top:10px;padding-bottom:10px;border-radius:10px;border:1px solid #000"><div style="text-align:center;padding-bottom:10px"><div style="width:250px;margin:0 auto;background-color:#fff6e4;padding:5px;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.2)"><h1 style="margin:10px;color:#3a1906;font-family:Times,serif">MikkeBot</h1><div style="padding:5px"><input type="checkbox" id="autoTask" onchange="delAutoTasks(),tmReset(),tmStartWork()" style="margin-right:5px"><label for="autoTask" style="font-size:18px;color:#3a1906;font-family:Times,serif">Enable Auto Tasks</label></div><div style="margin-top:5px;padding-bottom:5px"><span style="padding:5px;font-size:16px;color:#3a1906;font-family:Times,serif">Priority:</span><select id="direct" style="width:60px;font-family:Times,serif" onchange="delAutoTasks(),tmReset()"><option value="experience" style="text-align:center;font-family:Times,serif">Exp</option><option value="money" style="text-align:center;font-family:Times,serif">$$$</option></select></div></div></div><div><table id="tasksList" style="width:300px;margin:0 auto;border-collapse:collapse;border:1px solid #000;table-layout:fixed;border-radius:10px"><tr style="background:#fff6e4;border:1px solid #000"><td style="width:60%;text-align:center;font-weight:700;border:solid 1px;padding:10px;margin:10px">Job name</td><td colspan="2" style="width:40%;text-align:center;font-weight:700;border-left:solid 1px;padding:10px;margin:10px">Motivation</td></tr><tr id="elementsForAdding" style="background:#fff6e4;border:1px solid #000"><td style="padding:5px;border:1px solid #000"><select style="width:100%" id="job"></select></td><td style="padding:5px;border-left:1px solid #000"><input style="width:75%" id="motivation" value="50"></td><td style="margin:5px;text-align:center"><button style="background-color:#3a1906;color:#fff;width:40px;padding:2x 2px;border:1px solid #000;border-radius:5px" onclick="addTaskButton(),tmStartWork()"><span style="text-align:center">Add</span></button></td></tr></table></div></div>

';botPanel.onload.apply(botPanel)};
